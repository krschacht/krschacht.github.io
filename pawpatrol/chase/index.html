<html>
<head>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous" />
  <style>
    html {
      font-size: initial;
    }
  </style>
  <link rel="stylesheet" href="https://unpkg.com/material-components-web@latest/dist/material-components-web.min.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">

  <script
    src="https://code.jquery.com/jquery-3.4.1.min.js"
    integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo="
    crossorigin="anonymous"></script>

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
  <script src="../../js/grid.js"></script>

  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <script>
  images = [
    "https://d1whcn1ntmec99.cloudfront.net/images/catalog/products/pawpatrol/mission_chase/full4.jpg",
    "https://images.prod.meredith.com/product/f962cceac36f2fb754a19af752a43a72/1531244905072/l/paw-patrol-basic-10-plush-chase-walmart-exclusive",
    "https://cdn2.bigcommerce.com/server1500/d2815/products/49515/images/76780/paw-patrol-ty-figures-chase-partytoyz__58626.1530549215.1280.1280.jpg?c=2",
    "https://i.ya-webdesign.com/images/paw-patrol-rubble-wrench-png-14.png",
    "https://i.kinja-img.com/gawker-media/image/upload/c_fill,f_auto,fl_progressive,g_center,h_675,pg_1,q_80,w_1200/jnxwbra7baqpwizrigqq.jpg",
    "https://images-wixmp-ed30a86b8c4ca887773594c2.wixmp.com/f/887a126c-7df5-433d-b27c-d01f9c708b76/dbu9spo-56fac0bc-496d-49ad-b518-58d9ecd232c0.png?token=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ1cm46YXBwOjdlMGQxODg5ODIyNjQzNzNhNWYwZDQxNWVhMGQyNmUwIiwiaXNzIjoidXJuOmFwcDo3ZTBkMTg4OTgyMjY0MzczYTVmMGQ0MTVlYTBkMjZlMCIsIm9iaiI6W1t7InBhdGgiOiJcL2ZcLzg4N2ExMjZjLTdkZjUtNDMzZC1iMjdjLWQwMWY5YzcwOGI3NlwvZGJ1OXNwby01NmZhYzBiYy00OTZkLTQ5YWQtYjUxOC01OGQ5ZWNkMjMyYzAucG5nIn1dXSwiYXVkIjpbInVybjpzZXJ2aWNlOmZpbGUuZG93bmxvYWQiXX0.exEWHV1JC7FqiBnPHW21HoyD3JEYnitTl26sK7K73mA",
    "https://d1whcn1ntmec99.cloudfront.net/images/catalog/products/pawpatrol/paw-patrol-ultimate-rescue-construction-chase-with-flip-open-backpack/full4.jpg",
    "https://d1whcn1ntmec99.cloudfront.net/images/catalog/products/pawpatrol/all-stars-action-pack-pup-chase/full1.jpg",
    "https://cdn.shopify.com/s/files/1/2013/2287/products/955120-Chase_800x.jpg?v=1571609583",
    "https://media.entertainmentearth.com/assets/images/899dfc78f87248f2973295b8c5157f08lg.jpg",
    "https://s7.orientaltrading.com/is/image/OrientalTrading/13791872",
    "https://target.scene7.com/is/image/Target/GUEST_778f8c54-e5c3-4776-a071-f4c906d3add8?wid=488&hei=488&fmt=pjpeg",
    "https://www.bbtoystore.com/mm5/beanies/TYKC_chase-41276_PawP_540x540.jpg",
    "https://target.scene7.com/is/image/Target/GUEST_a5c14fd9-1551-4fb8-a172-ce5955aac3a3?wid=488&hei=488&fmt=pjpeg",
    "https://i5.walmartimages.com/asr/8294c7ff-e156-4b2d-948a-a80c684e125e_1.b6074c6a0550ed5b844c7ac6f269b3ae.jpeg",
    "https://i5.walmartimages.com/asr/7c7fe9d7-267b-4e42-a55e-67a49c36aa3d_1.47032011ae19c1486fd8629cd78e954a.jpeg",
    "https://cdn.shopify.com/s/files/1/0020/0002/7695/products/Chase-aa_800x.JPG?v=1535039633",
    "https://www.google.com/url?sa=i&source=images&cd=&ved=2ahUKEwjggp-I1ZHnAhVjGjQIHa35AwEQjRx6BAgBEAQ&url=https%3A%2F%2Fwww.amazon.com%2FNickelodeon-Patrol-Chase-Backpack-School%2Fdp%2FB07L5TXZ5T&psig=AOvVaw0APFZnZwG3cyL95-ed2cUT&ust=1579592039072299",
    "https://images-na.ssl-images-amazon.com/images/I/51rLjCFRQtL._SX331_BO1,204,203,200_.jpg",
    "https://images-na.ssl-images-amazon.com/images/I/71HlQTTw1rL._AC_SX466_.jpg",
    "https://images-na.ssl-images-amazon.com/images/I/61VHud2ip0L._AC_SL1500_.jpg",
    "https://images-na.ssl-images-amazon.com/images/I/71h%2BE60PzOL._SX355_.jpg",
    "https://images-na.ssl-images-amazon.com/images/I/91mvCyVFR5L._SX342_.jpg",
    "https://images-wixmp-ed30a86b8c4ca887773594c2.wixmp.com/f/887a126c-7df5-433d-b27c-d01f9c708b76/dbu9tda-a6a09f32-d6ca-47f5-9b32-38125ceb29ec.png?token=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ1cm46YXBwOjdlMGQxODg5ODIyNjQzNzNhNWYwZDQxNWVhMGQyNmUwIiwiaXNzIjoidXJuOmFwcDo3ZTBkMTg4OTgyMjY0MzczYTVmMGQ0MTVlYTBkMjZlMCIsIm9iaiI6W1t7InBhdGgiOiJcL2ZcLzg4N2ExMjZjLTdkZjUtNDMzZC1iMjdjLWQwMWY5YzcwOGI3NlwvZGJ1OXRkYS1hNmEwOWYzMi1kNmNhLTQ3ZjUtOWIzMi0zODEyNWNlYjI5ZWMucG5nIn1dXSwiYXVkIjpbInVybjpzZXJ2aWNlOmZpbGUuZG93bmxvYWQiXX0.GBmIwJ13dZnE4i-Kdcoxowhhi7ZUvQ3zbviwBtXnm60",
    "https://i.ytimg.com/vi/oNs9wGseAPs/hqdefault.jpg",
    "https://toynotes.com/wp-content/uploads/2018/03/Paw-Patrol-Spy-Chase-and-Penguins-Rescue-Set.jpg",
    "https://toynotes.com/wp-content/uploads/2018/03/Paw-Patrol-Chases-Tow-Truck-Figure-and-Vehicle.jpg",
    "https://toynotes.com/wp-content/uploads/2018/03/IONIX-Jr.-PAW-Patrol-Chases-Cruiser.jpg",
    "https://toynotes.com/wp-content/uploads/2018/03/Paw-Patrol-Mission-Paw-Air-Patroller.jpg",
    "https://toynotes.com/wp-content/uploads/2018/03/Nickelodeon-Paw-Patrol-Chase-Pillow-Pets.jpg",
    "https://toynotes.com/wp-content/uploads/2018/03/Mission-Paw-Chases-Three-Wheeler-Figure-and-Vehicle.jpg",
    "https://toynotes.com/wp-content/uploads/2018/03/Paw-Patrol-Chase-Bath-Squirter.jpg",
    "https://toynotes.com/wp-content/uploads/2018/03/Paw-Patrol-Sea-Patrol-Light-Up-Chase-with-Pup-Pack.jpg",
    "https://toynotes.com/wp-content/uploads/2018/03/Paw-Patrol-Chases-Transforming-Sea-Patrol-Vehicle.jpg",
    "https://toynotes.com/wp-content/uploads/2018/03/Playhut-Paw-Patrol-Chase-Police-Truck-Playhouse.jpg",
    "https://toynotes.com/wp-content/uploads/2018/03/Paw-Patrol-Mission-Paw-Chases-Mission-Police-Cruiser.jpg",
    "https://toynotes.com/wp-content/uploads/2018/03/Paw-Patrol-Chase-Action-Pack-Pup-Badge.jpg",
    "https://toynotes.com/wp-content/uploads/2018/03/Paw-Patrol-Jungle-Rescue-Chases-Jungle-Cruiser.jpg",
    "https://toynotes.com/wp-content/uploads/2018/03/TY-Paw-Patrol-Chase-Plush.jpg",
    "https://toynotes.com/wp-content/uploads/2018/03/Chase-Plush-Piggy-Bank.jpg",
    "https://toynotes.com/wp-content/uploads/2018/03/Paw-Patrol-Chase-Super-Pups-Figure.jpg",
    "https://toynotes.com/wp-content/uploads/2018/03/Snowboard-Chase-Winter-Rescues-Action-Pack-Pup.jpg",
    "https://toynotes.com/wp-content/uploads/2018/03/Paw-Patrol-Real-Talking-Chase-Lights-and-Sounds-Plush.jpg",
    "https://toynotes.com/wp-content/uploads/2018/03/TY-Beanie-Boos-Chase-Plush.jpg",
    "https://toynotes.com/wp-content/uploads/2018/03/Nickelodeon-Paw-Patrol-Chase-Sunglasses.jpg",
    "https://toynotes.com/wp-content/uploads/2018/03/Nickelodeon-Paw-Patrol-Chase-Coin-Bank.jpg",
    "https://toynotes.com/wp-content/uploads/2018/03/Paw-Patrol-Pup-Fu-Chase-and-Kitty-Rescue-Set.jpg",
    "https://toynotes.com/wp-content/uploads/2018/03/Paw-Patrol-Chase-Snuggle-Up-Pup.jpg",
    "https://toynotes.com/wp-content/uploads/2018/03/Paw-Patrol-Chases-Pup-Pack.jpg",
    "https://toynotes.com/wp-content/uploads/2018/03/Paw-Patrol-Chases-Spy-Cruiser.jpg",
    "https://toynotes.com/wp-content/uploads/2018/03/Free-Chase-is-on-the-Case-Activity-Pack.jpg",
    "https://toynotes.com/wp-content/uploads/2018/03/Diy-Chase-Paper-Vehicle-Toy-Craft.jpg",
    "https://toynotes.com/wp-content/uploads/2018/03/Paw-Patrol-Free-Printable-Masks-and-Ears.jpg",
    "https://toynotes.com/wp-content/uploads/2018/03/Paw-Patrol-Coloring-Pages.jpg"
  ]
  </script>
</head>
<body style="background-color: white; border: 0; margin: 0; padding: 0;">

  <header class="mdc-top-app-bar mdc-top-app-bar--fixed">
    <div class="mdc-top-app-bar__row">
      <section class="mdc-top-app-bar__section mdc-top-app-bar__section--align-start">
        <button class="material-icons mdc-top-app-bar__navigation-icon mdc-icon-button" onclick="location.href='../index.html'">arrow_back</button>
        <span class="mdc-top-app-bar__title">Mystery.org</span>
      </section>
    </div>
  </header>

  <div class="mdc-layout-grid story_player" style="padding-top: 82px;">
    <div class="mdc-layout-grid__inner"> <!-- inner player -->
      <div class="mdc-layout-grid__cell mdc-layout-grid__cell--span-12-desktop mdc-layout-grid__cell--span-8-tablet mdc-layout-grid__cell--span-4-mobile">
        <div class="mdc-layout-grid__inner"> <!-- progress bars -->
          <div class="mdc-layout-grid__cell mdc-layout-grid__cell--span-6-desktop mdc-layout-grid__cell--span-4-tablet mdc-layout-grid__cell--span-2-mobile section_bar">
            <div id="progress1" class="section_filled"></div>
          </div>
          <div class="mdc-layout-grid__cell mdc-layout-grid__cell--span-6-desktop mdc-layout-grid__cell--span-4-tablet mdc-layout-grid__cell--span-2-mobile section_bar">
            <div id="progress2" class="section_filled"></div>
          </div>
        </div>
        <div class="mdc-layout-grid__cell mdc-layout-grid__cell--span-12-desktop mdc-layout-grid__cell--span-8-tablet mdc-layout-grid__cell--span-4-mobile" style="margin-top: 15px; position: relative; height: 710px; overflow: hidden;">
          <!-- cell media -->
          <div class="slides">
            <i class="material-icons" id="play">
              play_arrow
            </i>
            <div class="slide" id="slide1">
              <img src="img/slide1.jpg" style="height: 100%; top: 0; right: 200px; position: absolute;">
              <audio id="clip">
                <source src="audio/slide1.m4a" type="audio/mp4">
              </audio>
            </div>
            <div class="slide" id="slide2">
              <img src="img/slide1.jpg" style="height: 100%; top: 0; right: 200px; position: absolute;">
            </div>
            <div class="slide" id="slide3">
              <div style="font-size: 41px; font-family: arial; margin-top: 325px; text-align: center;">
                Done
              </div>
            </div>
          </div> <!-- slides -->
        </div> <!-- cell -->
      </div>
    </div> <!-- inner player -->
  </div>

  <div class="mdc-layout-grid suggestions" style="padding-top: 30px;">
    <section class="pinterest-grid">
    </section>
  </div>

  <div id="sidebar" style="position: fixed; right: 0; top: 64px; width: 200px; background-color: #373737; display: none;">
    <button class="material-icons mdc-top-app-bar__navigation-icon mdc-icon-button" onclick="close_sidebar();" style="top: 4px; left: 3px; position: absolute; color: white;">close</button>

    <img src="" style="position: absolute; top: 55px;">
  </div>

  <script>
  var grid_width = 0;
  var grid_width_half = 0;

  $(document).ready(function(){
    grid_width = $('.pinterest-grid').width();
    grid_width_half = Math.round(grid_width/2);

    $.each(images, function(i, url) {
      $(".pinterest-grid").append('<article class="mdc-card"><img class="img-responsive" src="' + url + '" /></article>');
    });

    $('article.mdc-card img').click(function() {
      $('.pinterest-grid').css('width', grid_width_half );
      $(window).resize();

      $('article.mdc-card img').removeClass('selected');
      $(this).addClass('selected');
      $img = $(this);
      setTimeout(function () {
        $(document).scrollTop($('.selected').offset().top-75);

        open_sidebar($img);
      }, 300);
    });
  });

  var imgimg;
  function open_sidebar(img) {
    $img = img;

    $('#sidebar').show();
    $('#sidebar').css('width', grid_width_half);
    $('#sidebar').css('height', 1000);

    $('#sidebar img').attr('src', $img.attr('src'));
    $('#sidebar img').css('left', '17px');
    $('#sidebar img').css('width', grid_width_half-17-17 + 'px');
  }

  function close_sidebar() {
    $('article.mdc-card img').removeClass('selected');
    $('#sidebar').hide();
    $('.pinterest-grid').css('width', grid_width);
    $(window).resize();
  }

  function elementScrolled(elem)
  {
      var docViewTop = $(window).scrollTop();
      var docViewBottom = docViewTop + $(window).height();
      var elemTop = $(elem).offset().top - 70;
      return ((docViewBottom >= elemTop) && (elemTop >= docViewTop));
  }

  $(window).scroll(function(){
    if(elementScrolled('.suggestions')) {
      close_sidebar();
    }
  });
  </script>

  <style>
    article.mdc-card {
      cursor: hand;
    }
    .mdc-card img.selected {
      border: 1px solid blue;
    }
  </style>

  <style>
    .story_player {
       background-color: #373737;
    }
    .section_bar {
      background-color: rgba(204,204,204,0.5);
      box-shadow: 0 0px 5px 1px rgba(0, 0, 0, 0.2);
    }
    .section_filled {
      background-color: rgba(255,255,255,1.0);
      width: 0%;
      height: 4px;
    }
    .slides {
      position: absolute;
      left: 0;
      top: 0;
      width: 3192px; /* 1064 x 3 */
      height: 710px;
      background-color: white;
    }
    .slide {
      width: 1064px;
      height: 710px;
      position: absolute;
      top: 0;
      left: 0;
    }
    #slide1 {
      left: 0;
    }
    #slide2 {
      left: 1064px;
    }
    #slide3 {
      left: 2128px;
    }
    #play {
      color: rgba(77, 0, 234, 0.8);
      font-size: 150px;
      position: absolute;
      top: 281px;
      left: 432px;
      z-index: 3;
      text-shadow: 0 0 77px #ffffff, 0 0 40px #ffffff, 0 0 40px #ffffff, 0 0 40px #ffffff, 0 0 35px #ffffff, 0 0 75px #ffffff;
      cursor: hand;
    }

    .pinterest-grid {
      position:relative;
    }
    .pinterest-grid article {
      position:absolute;
    }
  </style>

  <script>
    $('#play').click(function() {
      $(this).css('display', 'none');
      play1();
    });

    function play1() {
      clip = $('audio#clip')[0];
      duration = Math.round(clip.duration*1000);

      clip.play();

      $('#progress1').animate({
        width: "100%"
      }, duration, "linear", function() {
        $('.slides').animate({
          left: "-1064px",
        }, 100, "linear", function() {
          play2();
        });
      });

      $('#slide1 img').animate({
        right: "300px"
      }, duration, "linear");
    }

    function play2() {
      duration = 1000;

      $('#progress2').animate({
        width: "100%"
      }, duration, "linear", function() {
        $('.slides').animate({
          left: "-2128px",
        }, 100, "linear", function() {
          done();
        });
      });

      $('#slide2 img').animate({
        left: "100px"
      }, duration, "linear");
    }

    function done() {
      $("html, body").animate({ scrollTop: 700 }, 1000);
    }
  </script>

  <!-- Required MDC Web JavaScript library -->
  <script src="https://unpkg.com/material-components-web@latest/dist/material-components-web.min.js"></script>
  <!-- Instantiate single textfield component rendered in the document -->
  <script>
    $(document).ready(function(){
      $('.pinterest-grid').pinterest_grid({});
    });
    const topAppBarElement = document.querySelector('.mdc-top-app-bar');
    const topAppBar = new MDCTopAppBar(topAppBarElement);
    const selector = '.mdc-button, .mdc-icon-button, .mdc-card__primary-action';
    const ripples = [].map.call(document.querySelectorAll(selector), function(el) {
      return new MDCRipple(el);
    });
  </script>

  <br><br><br>
  <br><br><br>
  <br><br><br>
  <br><br><br>
  <br><br><br>
  <br><br><br>
  <br><br><br>
  <br><br><br>
  <br><br><br>
  <br><br><br>
  <br><br><br>
  <br><br><br>
  <br><br><br>
  <br><br><br>
  <br><br><br>
  <br><br><br>
  <br><br><br>
  <br><br><br>
  <br><br><br>
  <br><br><br>
  <br><br><br>
  <br><br><br>
  <br><br><br>
  <br><br><br>
  <br><br><br>
  <br><br><br>
  <br><br><br>
  <br><br><br>
  <br><br><br>
  <br><br><br>
  <br><br><br>
  <br><br><br>
  <br><br><br>
  <br><br><br>
  <br><br><br>
  <br><br><br>
  <br><br><br>
  <br><br><br>
  <br><br><br>
  <br><br><br>

  <input type="button" value="re-run" onclick="$(window).resize();"/>

  <script>
    document.write('&nbsp;&nbsp;&nbsp;<a href="index.html?'+Math.random().toString(36).substring(2, 15) + Math.random().toString(36).substring(2, 15)+'" style="color: black;">refresh</a><br><br>');
  </script>
</body>
</html>
